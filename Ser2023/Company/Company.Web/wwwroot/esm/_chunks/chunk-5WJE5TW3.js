import{a as r,c as i,d as k,e as g,f as c,g as b}from"./chunk-FEDAVPE7.js";var ae=class{};r(ae,"CategoriesColumns"),ae.columnsKey="Store.Categories";var X=i(c(),1);var x=class{static getLookup(){return(0,X.getLookup)("Store.Categories")}static getLookupAsync(){return g(this,null,function*(){return(0,X.getLookupAsync)("Store.Categories")})}};r(x,"CategoriesRow"),x.idProperty="CategoryId",x.isActiveProperty="IsActive",x.nameProperty="CategoryName",x.localTextPrefix="Store.Categories",x.lookupKey="Store.Categories",x.deletePermission="Store:CategoriesType:Delete",x.insertPermission="Store:CategoriesType:Modify",x.readPermission="Store:CategoriesType:View",x.updatePermission="Store:CategoriesType:Modify",x.Fields=(0,X.fieldsProxy)();var Ie=i(c(),1),Le;(e=>(e.baseUrl="Store/Categories",e.Methods={Create:"Store/Categories/Create",Update:"Store/Categories/Update",Delete:"Store/Categories/Delete",Retrieve:"Store/Categories/Retrieve",List:"Store/Categories/List",ExcelImport:"Store/Categories/ExcelImport"},["Create","Update","Delete","Retrieve","List","ExcelImport"].forEach(t=>{e[t]=function(o,s,a){return(0,Ie.serviceRequest)(e.baseUrl+"/"+t,o,s,a)}})))(Le||(Le={}));var pe=class{};r(pe,"CategoriesTypeColumns"),pe.columnsKey="Store.CategoriesType";var B=i(c(),1);var R=class{static getLookup(){return(0,B.getLookup)("Store.CategoriesType")}static getLookupAsync(){return g(this,null,function*(){return(0,B.getLookupAsync)("Store.CategoriesType")})}};r(R,"CategoriesTypeRow"),R.idProperty="CategoryTypeId",R.isActiveProperty="IsActive",R.nameProperty="CategoryType",R.localTextPrefix="Store.CategoriesType",R.lookupKey="Store.CategoriesType",R.deletePermission="Store:CategoriesType:Delete",R.insertPermission="Store:CategoriesType:Modify",R.readPermission="Store:CategoriesType:View",R.updatePermission="Store:CategoriesType:Modify",R.Fields=(0,B.fieldsProxy)();var qe=i(c(),1),be;(e=>(e.baseUrl="Store/CategoriesType",e.Methods={Create:"Store/CategoriesType/Create",Update:"Store/CategoriesType/Update",Delete:"Store/CategoriesType/Delete",Retrieve:"Store/CategoriesType/Retrieve",List:"Store/CategoriesType/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(o,s,a){return(0,qe.serviceRequest)(e.baseUrl+"/"+t,o,s,a)}})))(be||(be={}));var rt=i(b(),1);var de=i(b(),1),Pe=i(c(),1);var ee=class extends de.PrefixedContext{constructor(d){if(super(d),!ee.init){ee.init=!0;var e=de.ImageUploadEditor;(0,Pe.initFormType)(ee,["FileName",e])}}},ce=ee;r(ce,"CategoriesExcelImportForm"),ce.formKey="Store.CategoriesExcelImport";var W=i(b(),1),Te=i(c(),1);var te=class extends W.PrefixedContext{constructor(d){if(super(d),!te.init){te.init=!0;var e=W.LookupEditor,t=W.StringEditor;(0,Te.initFormType)(te,["CategoryTypeId",e,"CategoryCode",t,"CategoryName",t,"Description",t,"Picture",t])}}},le=te;r(le,"CategoriesForm"),le.formKey="Store.Categories";var he=i(c(),1);var P=class{};r(P,"CategoriesLangRow"),P.idProperty="Id",P.nameProperty="CategoryName",P.localTextPrefix="Store.CategoriesLang",P.deletePermission="Store:General",P.insertPermission="Store:General",P.readPermission="Store:General",P.updatePermission="Store:General",P.Fields=(0,he.fieldsProxy)();var Ue=i(c(),1),Ee;(e=>(e.baseUrl="Store/CategoriesLang",e.Methods={Create:"Store/CategoriesLang/Create",Update:"Store/CategoriesLang/Update",Delete:"Store/CategoriesLang/Delete",Retrieve:"Store/CategoriesLang/Retrieve",List:"Store/CategoriesLang/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(o,s,a){return(0,Ue.serviceRequest)(e.baseUrl+"/"+t,o,s,a)}})))(Ee||(Ee={}));var F=i(b(),1),Oe=i(c(),1);var re=class extends F.PrefixedContext{constructor(d){if(super(d),!re.init){re.init=!0;var e=F.IntegerEditor,t=F.StringEditor;(0,Oe.initFormType)(re,["Type",e,"CategoryType",t])}}},ue=re;r(ue,"CategoriesTypeForm"),ue.formKey="Store.CategoriesType";var q=i(b(),1);var Q=i(b(),1),l=i(c(),1);var y=class extends Q.StringEditor{constructor(e){super(e);this.addValidationRule(this.uniqueName,t=>{var o=(0,l.trimToNull)(this.get_value());return o==null?null:y.validate(o,this.multiple)}),e.bind("change",t=>{Q.WX.hasOriginalEvent(t)&&this.formatValue()}),e.bind("blur",t=>{this.element.hasClass("valid")&&this.formatValue()})}formatValue(){this.element.val(this.getFormattedValue())}getFormattedValue(){var e=this.element.val();return this.multiple?y.formatMulti(e,y.formatPhone):y.formatPhone(e)}get_value(){return this.getFormattedValue()}set_value(e){this.element.val(e)}static validate(e,t){var o=t?y.isValidMulti(e,y.isValidPhone):y.isValidPhone(e);return o?null:(0,l.localText)(t?"Validation.StorePhoneMultiple":"Validation.StorePhone")}static isValidPhone(e){if((0,l.isEmptyOrNull)(e)||(e=(0,l.replaceAll)((0,l.replaceAll)(e," ",""),"-",""),e.length<10)||((0,l.startsWith)(e,"0")&&(e=e.substring(1)),(0,l.startsWith)(e,"(")&&e.charAt(4)===")"&&(e=e.substr(1,3)+e.substring(5)),e.length!==12)||(0,l.startsWith)(e,"0"))return!1;for(var t=0;t<e.length;t++){var o=e.charAt(t);if(o<"0"||o>"9")return!1}return!0}static formatPhone(e){return y.isValidPhone(e)&&(e=(0,l.replaceAll)((0,l.replaceAll)((0,l.replaceAll)((0,l.replaceAll)(e," ",""),"-",""),"(",""),")",""),(0,l.startsWith)(e,"0")&&(e=e.substring(1)),e="("+e.substr(0,3)+") "+e.substr(3,3)+"-"+e.substr(6,2)+e.substr(8,2)+e.substr(10,2)),e}static formatMulti(e,t){var o=(0,l.replaceAll)(e,String.fromCharCode(59),String.fromCharCode(44)).split(String.fromCharCode(44)),s="";for(var a of o){var m=(0,l.trimToNull)(a);m!=null&&(s.length>0&&(s+=", "),s+=t(m))}return s}static isValidMulti(e,t){if((0,l.isEmptyOrNull)(e))return!1;for(var o=(0,l.replaceAll)(e,String.fromCharCode(59),String.fromCharCode(44)).split(String.fromCharCode(44)),s=!1,a=0;a<o.length;a++){var m=o[a],V=(0,l.trimToNull)(m);if(V!=null){if(!t(V))return!1;s=!0}}return!!s}};r(y,"PhoneEditor"),k([Q.Decorators.option()],y.prototype,"multiple",2),y=k([Q.Decorators.registerEditor("Company.PhoneEditor")],y);var T=i(b(),1),S=i(c(),1);var G=i(b(),1),De=i(c(),1);var M=class extends G.TemplatedDialog{constructor(){super();this.textEditor=new G.HtmlNoteContentEditor(this.byId("Text"))}getTemplate(){return"<form id='~_Form' class='s-Form'><textarea id='~_Text' class='required'></textarea></form>"}getDialogButtons(){return[{text:(0,De.localText)("Dialogs.OkButton"),click:()=>{this.validateForm()&&this.okClick&&this.okClick()}},{text:(0,De.localText)("Dialogs.CancelButton"),click:()=>this.dialogClose()}]}get text(){return this.textEditor.value}set text(e){this.textEditor.value=e}};r(M,"NotesDialog"),M=k([G.Decorators.registerClass("Company.Store.NotesDialog")],M);var J=class extends T.TemplatedWidget{constructor(e){super(e);new T.Toolbar(this.byId("Toolbar"),{buttons:[{title:"Add Note",cssClass:"add-button",onClick:t=>{t.preventDefault(),this.addClick()}}]})}getTemplate(){return"<div><div id='~_Toolbar'></div><ul id='~_NoteList'></ul></div>"}updateContent(){var e=this.byId("NoteList");if(e.children().remove(),this.items)for(var t=0,o=0;o<this.items.length;o++){var s=this.items[o],a=$("<li/>");$("<div/>").addClass("note-text").html((0,S.coalesce)(s.Text,"")).appendTo(a),$("<a/>").attr("href","#").addClass("note-date").text(s.InsertUserDisplayName+" - "+(0,S.formatDate)(s.InsertDate,"g")).data("index",t).appendTo(a).click(m=>this.editClick(m)),$("<a/>").attr("href","#").addClass("note-delete").attr("title","delete note").data("index",t).appendTo(a).click(m=>this.deleteClick(m)),a.appendTo(e),t++}}addClick(){var e=new M;e.dialogTitle="Add Note",e.okClick=()=>{var t=(0,S.trimToNull)(e.text);t!=null&&(this.items=this.items||[],(0,S.insert)(this.items,0,{Text:t,InsertUserDisplayName:S.Authorization.userDefinition.DisplayName,InsertDate:(0,S.formatISODateTimeUTC)(new Date)}),this.updateContent(),e.dialogClose(),this.set_isDirty(!0),this.onChange&&this.onChange())},e.dialogOpen()}editClick(e){e.preventDefault();var t=$(e.target).data("index"),o=this.items[t],s=new M;s.dialogTitle="Edit Note",s.text=o.Text,s.okClick=()=>{var a=(0,S.trimToNull)(s.text);a&&(this.items[t].Text=a,this.updateContent(),s.dialogClose(),this.set_isDirty(!0),this.onChange&&this.onChange())},s.dialogOpen()}deleteClick(e){e.preventDefault();var t=$(e.target).data("index");(0,S.confirmDialog)("Delete this note?",()=>{this.items.splice(t,1),this.updateContent(),this.set_isDirty(!0),this.onChange&&this.onChange()})}get value(){return this.items}set value(e){this.items=e||[],this.set_isDirty(!1),this.updateContent()}getEditValue(e,t){t[e.name]=this.value}setEditValue(e,t){this.value=e[t.name]||[]}get_isDirty(){return this.isDirty}set_isDirty(e){this.isDirty=e}};r(J,"NotesEditor"),J=k([T.Decorators.registerEditor("Company.Store.NotesEditor",[T.IGetEditValue,T.ISetEditValue]),T.Decorators.element("<div/>")],J);var ke=i(c(),1);var oe=class extends q.PrefixedContext{constructor(d){if(super(d),!oe.init){oe.init=!0;var e=q.StringEditor,t=q.LookupEditor,o=y,s=J,a=q.DateEditor,m=q.EmailEditor,V=q.BooleanEditor;(0,ke.initFormType)(oe,["CounterpartyId",e,"CompanyName",e,"ContactName",e,"ContactTitle",e,"Representatives",t,"Address",e,"Country",t,"City",t,"Region",e,"PostalCode",e,"Phone",o,"NotesList",s,"LastContactDate",a,"LastContactedBy",t,"Email",m,"SendBulletin",V])}}},ye=oe;r(ye,"CounterpartiesForm"),ye.formKey="Store.Counterparties";var z=i(c(),1);var C=class{static getLookup(){return(0,z.getLookup)("Store.Counterparties")}static getLookupAsync(){return g(this,null,function*(){return(0,z.getLookupAsync)("Store.Counterparties")})}};r(C,"CounterpartiesRow"),C.idProperty="Id",C.isActiveProperty="IsActive",C.nameProperty="CounterpartyId",C.localTextPrefix="Store.Counterparties",C.lookupKey="Store.Counterparties",C.deletePermission="Store:Counterparties:Delete",C.insertPermission="Store:Counterparties:Modify",C.readPermission="Store:Counterparties:View",C.updatePermission="Store:Counterparties:Modify",C.Fields=(0,z.fieldsProxy)();var He=i(c(),1),Ne;(e=>(e.baseUrl="Store/Counterparties",e.Methods={Create:"Store/Counterparties/Create",Update:"Store/Counterparties/Update",Delete:"Store/Counterparties/Delete",Retrieve:"Store/Counterparties/Retrieve",List:"Store/Counterparties/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(o,s,a){return(0,He.serviceRequest)(e.baseUrl+"/"+t,o,s,a)}})))(Ne||(Ne={}));var Ae=i(c(),1);var h=class{};r(h,"CounterpartyDetailsRow"),h.idProperty="Id",h.nameProperty="Email",h.localTextPrefix="Store.CounterpartyDetails",h.deletePermission="Store:Counterparties:Delete",h.insertPermission="Store:Counterparties:Modify",h.readPermission="Store:Counterparties:View",h.updatePermission="Store:Counterparties:Modify",h.Fields=(0,Ae.fieldsProxy)();var Me=i(c(),1);var O=class{};r(O,"CounterpartyRepresentativesRow"),O.idProperty="RepresentativeId",O.localTextPrefix="Store.CounterpartyRepresentatives",O.deletePermission="Store:Counterparties:Delete",O.insertPermission="Store:Counterparties:Modify",O.readPermission="Store:Counterparties:View",O.updatePermission="Store:Counterparties:Modify",O.Fields=(0,Me.fieldsProxy)();var j=i(c(),1);var f=class{static getLookup(){return(0,j.getLookup)("Store.Employees")}static getLookupAsync(){return g(this,null,function*(){return(0,j.getLookupAsync)("Store.Employees")})}};r(f,"EmployeesRow"),f.idProperty="EmployeeId",f.isActiveProperty="IsActive",f.nameProperty="LastName",f.localTextPrefix="Store.Employees",f.lookupKey="Store.Employees",f.deletePermission="Store:General",f.insertPermission="Store:General",f.readPermission="Store:General",f.updatePermission="Store:General",f.Fields=(0,j.fieldsProxy)();var Qe=i(b(),1),Je=(e=>(e[e.Male=1]="Male",e[e.Female=2]="Female",e))(Je||{});Qe.Decorators.registerEnumType(Je,"Company.Store.Gender");var Ve=i(c(),1);var E=class{};r(E,"NotesRow"),E.idProperty="NoteId",E.nameProperty="EntityType",E.localTextPrefix="Store.Notes",E.deletePermission="Store:General",E.insertPermission="Store:General",E.readPermission="Store:General",E.updatePermission="Store:General",E.Fields=(0,Ve.fieldsProxy)();var Be=i(c(),1),Xe;(e=>(e.baseUrl="Store/Notes",e.Methods={Create:"Store/Notes/Create",Update:"Store/Notes/Update",Delete:"Store/Notes/Delete",Retrieve:"Store/Notes/Retrieve",List:"Store/Notes/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(o,s,a){return(0,Be.serviceRequest)(e.baseUrl+"/"+t,o,s,a)}})))(Xe||(Xe={}));var me=class{};r(me,"OperationTypeColumns"),me.columnsKey="Store.OperationType";var K=i(b(),1),We=i(c(),1);var se=class extends K.PrefixedContext{constructor(d){if(super(d),!se.init){se.init=!0;var e=K.IntegerEditor,t=K.StringEditor;(0,We.initFormType)(se,["OpCode",e,"Operation",t])}}},Se=se;r(Se,"OperationTypeForm"),Se.formKey="Store.OperationType";var Y=i(c(),1);var D=class{static getLookup(){return(0,Y.getLookup)("Store.OperationType")}static getLookupAsync(){return g(this,null,function*(){return(0,Y.getLookupAsync)("Store.OperationType")})}};r(D,"OperationTypeRow"),D.idProperty="OperationTypeId",D.isActiveProperty="IsActive",D.nameProperty="Operation",D.localTextPrefix="Store.OperationType",D.lookupKey="Store.OperationType",D.deletePermission="Store:OperationType:Delete",D.insertPermission="Store:OperationType:Modify",D.readPermission="Store:OperationType:View",D.updatePermission="Store:OperationType:Modify",D.Fields=(0,Y.fieldsProxy)();var Ge=i(c(),1),Fe;(e=>(e.baseUrl="Store/OperationType",e.Methods={Create:"Store/OperationType/Create",Update:"Store/OperationType/Update",Delete:"Store/OperationType/Delete",Retrieve:"Store/OperationType/Retrieve",List:"Store/OperationType/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(o,s,a){return(0,Ge.serviceRequest)(e.baseUrl+"/"+t,o,s,a)}})))(Fe||(Fe={}));var $e;(u=>{u.General="Store:General";let d;(p=>(p.Delete="Store:Categories:Delete",p.Modify="Store:Categories:Modify",p.View="Store:Categories:View"))(d=u.Categories||(u.Categories={}));let e;(p=>(p.Delete="Store:CategoriesType:Delete",p.Modify="Store:CategoriesType:Modify",p.View="Store:CategoriesType:View"))(e=u.CategoriesType||(u.CategoriesType={}));let t;(p=>(p.Delete="Store:Shops:Delete",p.Modify="Store:Shops:Modify",p.View="Store:Shops:View"))(t=u.Shops||(u.Shops={}));let o;(p=>(p.Delete="Store:DocumentType:Delete",p.Modify="Store:DocumentType:Modify",p.View="Store:DocumentType:View"))(o=u.DocumentType||(u.DocumentType={}));let s;(p=>(p.Delete="Store:Measures:Delete",p.Modify="Store:Measures:Modify",p.View="Store:Measures:View"))(s=u.Measures||(u.Measures={}));let a;(p=>(p.Delete="Store:OperationType:Delete",p.Modify="Store:OperationType:Modify",p.View="Store:OperationType:View"))(a=u.OperationType||(u.OperationType={}));let m;(p=>(p.Delete="Store:Counterparties:Delete",p.Modify="Store:Counterparties:Modify",p.View="Store:Counterparties:View"))(m=u.Counterparties||(u.Counterparties={}));let V;(p=>(p.Delete="Store:Wares:Delete",p.Modify="Store:Wares:Modify",p.View="Store:Wares:View"))(V=u.Wares||(u.Wares={}));let ot;(p=>(p.Delete="Store:Product:Delete",p.Modify="Store:Product:Modify",p.View="Store:Product:View"))(ot=u.Product||(u.Product={}))})($e||($e={}));var ge=i(b(),1),ze=i(c(),1);var ie=class extends ge.PrefixedContext{constructor(d){if(super(d),!ie.init){ie.init=!0;var e=ge.StringEditor;(0,ze.initFormType)(ie,["ShopId",e,"ShopName",e,"ContactName",e,"ContactTitle",e,"Address",e,"City",e,"Region",e,"PostalCode",e,"Country",e,"Phone",e])}}},fe=ie;r(fe,"ShopsForm"),fe.formKey="Store.Shops";var ve=class{};r(ve,"ShopsColumns"),ve.columnsKey="Store.Shops";var Z=i(c(),1);var L=class{static getLookup(){return(0,Z.getLookup)("Store.Shops")}static getLookupAsync(){return g(this,null,function*(){return(0,Z.getLookupAsync)("Store.Shops")})}};r(L,"ShopsRow"),L.idProperty="Id",L.isActiveProperty="IsActive",L.nameProperty="ShopId",L.localTextPrefix="Store.Shops",L.lookupKey="Store.Shops",L.deletePermission="Store:Shops:Delete",L.insertPermission="Store:Shops:Modify",L.readPermission="Store:Shops:View",L.updatePermission="Store:Shops:Modify",L.Fields=(0,Z.fieldsProxy)();var Ke=i(c(),1),je;(e=>(e.baseUrl="Store/Shops",e.Methods={Create:"Store/Shops/Create",Update:"Store/Shops/Update",Delete:"Store/Shops/Delete",Retrieve:"Store/Shops/Retrieve",List:"Store/Shops/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(o,s,a){return(0,Ke.serviceRequest)(e.baseUrl+"/"+t,o,s,a)}})))(je||(je={}));var xe=class{};r(xe,"WaresColumns"),xe.columnsKey="Store.Wares";var v=i(b(),1),Ye=i(c(),1);var ne=class extends v.PrefixedContext{constructor(d){if(super(d),!ne.init){ne.init=!0;var e=v.LookupEditor,t=v.StringEditor,o=v.IntegerEditor,s=v.ImageUploadEditor,a=v.BooleanEditor,m=v.DecimalEditor;(0,Ye.initFormType)(ne,["CategoryId",e,"WaresCode",t,"WaresBarcode",t,"WaresLabel",t,"WaresName",t,"MeasureId",o,"WaresImage",s,"Discontinued",a,"CounterpartyId",e,"QuantityPerUnit",m,"UnitPrice",m,"AccountId",o])}}},Re=ne;r(Re,"WaresForm"),Re.formKey="Store.Wares";var Ze=i(c(),1);var U=class{};r(U,"WaresLangRow"),U.idProperty="Id",U.nameProperty="WaresName",U.localTextPrefix="Store.WaresLang",U.deletePermission="Store:General",U.insertPermission="Store:General",U.readPermission="Store:General",U.updatePermission="Store:General",U.Fields=(0,Ze.fieldsProxy)();var we=i(c(),1),_e;(e=>(e.baseUrl="Store/WaresLang",e.Methods={Create:"Store/WaresLang/Create",Update:"Store/WaresLang/Update",Delete:"Store/WaresLang/Delete",Retrieve:"Store/WaresLang/Retrieve",List:"Store/WaresLang/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(o,s,a){return(0,we.serviceRequest)(e.baseUrl+"/"+t,o,s,a)}})))(_e||(_e={}));var _=i(c(),1);var I=class{static getLookup(){return(0,_.getLookup)("Store.Wares")}static getLookupAsync(){return g(this,null,function*(){return(0,_.getLookupAsync)("Store.Wares")})}};r(I,"WaresRow"),I.idProperty="WaresId",I.isActiveProperty="IsActive",I.nameProperty="WaresName",I.localTextPrefix="Store.Wares",I.lookupKey="Store.Wares",I.deletePermission="Store:Wares:Delete",I.insertPermission="Store:Wares:Modify",I.readPermission="Store:Wares:View",I.updatePermission="Store:Wares:Modify",I.Fields=(0,_.fieldsProxy)();var tt=i(c(),1),et;(e=>(e.baseUrl="Store/Wares",e.Methods={Create:"Store/Wares/Create",Update:"Store/Wares/Update",Delete:"Store/Wares/Delete",Retrieve:"Store/Wares/Retrieve",List:"Store/Wares/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(o,s,a){return(0,tt.serviceRequest)(e.baseUrl+"/"+t,o,s,a)}})))(et||(et={}));var w=class{format(d){var e=d.value;if(!e||!e.length)return"";var t=f.getLookup().itemById;let o;return e.map(s=>(o=t[s])?o.FullName:s).join(", ")}};r(w,"EmployeeListFormatter"),w=k([rt.Decorators.registerFormatter("Company.Store.EmployeeListFormatter")],w);var Ce=class{};r(Ce,"CounterpartiesColumns"),Ce.columnsKey="Store.Counterparties";export{ae as a,ce as b,le as c,x as d,Le as e,pe as f,ue as g,R as h,be as i,Ce as j,ye as k,C as l,Ne as m,me as n,Se as o,D as p,Fe as q,fe as r,ve as s,L as t,je as u,xe as v,Re as w,I as x,et as y};
//# sourceMappingURL=chunk-5WJE5TW3.js.map
