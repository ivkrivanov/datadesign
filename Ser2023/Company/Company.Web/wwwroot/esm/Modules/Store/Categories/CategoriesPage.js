import{a as h}from"../../../_chunks/chunk-ZOEJ2HZL.js";import{a as P,b as C,d as f,e,f as o}from"../../../_chunks/chunk-NQNNAIF5.js";import{a as m,c as p,d as a,f as y,g}from"../../../_chunks/chunk-FEDAVPE7.js";var E=p(y(),1);var d=p(g(),1);var c=p(g(),1);var i=class extends c.EntityDialog{constructor(){super(...arguments);this.form=new f(this.idPrefix)}getFormKey(){return f.formKey}getIdProperty(){return e.idProperty}getLocalTextPrefix(){return e.localTextPrefix}getNameProperty(){return e.nameProperty}getService(){return o.baseUrl}getDeletePermission(){return e.deletePermission}getInsertPermission(){return e.insertPermission}getUpdatePermission(){return e.updatePermission}};m(i,"CategoriesDialog"),i=a([c.Decorators.registerClass("Store.Store.CategoriesDialog")],i);var u=p(g(),1),n=p(y(),1);var s=class extends u.PropertyDialog{constructor(){super();this.form=new C(this.idPrefix)}getDialogTitle(){return"Excel Import"}getDialogButtons(){return[{text:"Import",click:()=>{if(this.validateBeforeSave()){if(this.form.FileName.value==null||(0,n.isEmptyOrNull)(this.form.FileName.value.Filename)){(0,n.notifyError)("Please select a file!");return}o.ExcelImport({FileName:this.form.FileName.value.Filename},t=>{(0,n.notifyInfo)("Inserted: "+(t.Inserted||0)+", Updated: "+(t.Updated||0)),t.ErrorList!=null&&t.ErrorList.length>0&&(0,n.notifyError)(t.ErrorList.join(`,\r
 `)),this.dialogClose()})}}},{text:"Cancel",click:()=>this.dialogClose()}]}};m(s,"CategoriesExcelImportDialog"),s=a([u.Decorators.registerClass("Company.Store.CategoriesExcelImportDialog")],s);var l=class extends d.EntityGrid{getColumnsKey(){return P.columnsKey}getDialogType(){return i}getIdProperty(){return e.idProperty}getInsertPermission(){return e.insertPermission}getLocalTextPrefix(){return e.localTextPrefix}getService(){return o.baseUrl}constructor(r){super(r)}getDefaultSortBy(){return[e.Fields.CategoryCode]}getButtons(){var r=super.getButtons();return r.push(h.createToolButton({title:"Export To Excel",grid:this,service:o.baseUrl+"/ListExcel",onViewSubmit:()=>this.onViewSubmit(),separator:!0})),r.push({title:"Import From Excel",cssClass:"export-xlsx-button",onClick:()=>{var t=new s;t.element.on("dialogclose",()=>{this.refresh(),t=null}),t.dialogOpen()}}),r}};m(l,"CategoriesGrid"),l=a([d.Decorators.registerClass("Company.Store.CategoriesGrid")],l);$(function(){(0,E.initFullHeightGridPage)(new l($("#GridDiv")).element)});
//# sourceMappingURL=CategoriesPage.js.map
